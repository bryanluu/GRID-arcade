<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="resource://content-accessible/plaintext.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GRID-Arcade</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <style>
        :root {
            --bs-primary: #266DA9 !important;
            --bs-primary-rgb: #266DA9 !important;
            --bs-primary-bg-subtle: #548FC1 !important;
            --bs-primary-text-emphasis: #266DA9 !important;
            --bs-light: rgb(248, 249, 250) !important;
            --bs-light-text-emphasis: lightblue !important;
            margin: 2em;
        }

        .bg-primary {
            background-color: var(--bs-primary) !important;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            color: var(--bs-primary);
            margin-top: 1ex;
            width: 100%;
        }

        h1::after,
        h2::after,
        h3::after,
        h4::after,
        h5::after,
        h6::after {
            content: "";
            display: block;
            width: 100%;
            height: 1px;
            background-color: var(--bs-primary);
            margin-top: 4px;
            margin-bottom: 16px;
        }

        img {
            display: inline-block;
        }

        p {
            font-size: 11pt;
        }
    </style>
</head>

<body>
    <div class="markdownRoot">
        <div class="section">
            <h1 id="grid-arcade">GRID-Arcade</h1>
            <div class="row">
                <div class="col col-8">
                    <p>This is the <strong>GRID</strong> (<strong>G</strong>aming <strong>R</strong>etro
                        <strong>I</strong>nteractive <strong>D</strong>evice), my fun hobby project to create a custom
                        arcade
                        box.
                    </p>
                    <p>
                        It features an Adafruit Metro M0 Express microcontroller driving a 32x32 RGB LED matrix
                        display,
                        with a PS2 joystick for input. The arcade box runs multiple games including my
                        original
                        creations:
                    <ul>
                        <li><b>Snake</b>: the classic Snake game</li>
                        <li><b>Life</b>: Conway's <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Game
                                of Life</a></li>
                        <li><b>Maze</b>: a version of my original maze-generating escape game, <a
                                href="https://github.com/bryanluu/a-maze-ing-race">A-Maze-ing Race</a></li>
                        <li><b>Boids</b>: a version of my simulation of birds, <a
                                href="https://github.com/bryanluu/boids">Boids</a></li>
                        <li><b>Calib</b>: a scene to adjust input calibration for the PS2 Joystick</li>
                        <li><b>QR</b>: a QR code linking to my personal website (in progress)</li>
                    </ul>
                    </p>
                </div>
                <div class="col"><img src="images/maze_shot.jpg" alt="Alt Text" width="200"></div>
            </div>
        </div>
        <div class="section">
            <h2 id="why-i-did-it">Why I did it</h2>
            <div class="row">
                <div class="col col-7">
                    <p>I needed to consolidate my two programs I had built for the Adafruit Metro M0 and RGB matrix (<a
                            href="https://github.com/bryanluu/a-maze-ing-race"><em>A-Maze-ing Race</em></a> and <a
                            href="https://github.com/bryanluu/boids"><em>Boids</em></a>), because the old enclosure was
                        falling
                        apart.</p>
                    <p>This new project would allow players to select between the two
                        programs, keep the electronics more stable, and be an exercise in skill
                        development.</p>
                    <p>It would also open the possibility to program more games and have more fun with the hardware. The
                        two games I had previously felt a little incomplete. So it was an opportunity to polish my
                        creations in a neat package and make it feel finished.</p>
                </div>
                <div class="col"><img src="images/old_amr.jpeg" alt="Alt Text" width="250"></div>
            </div>
        </div>
        <div class="section" style="page-break-inside: avoid">
            <h2 id="what-i-did">What I did</h2>
            <p>I started with the build by collaborating with my friend Herman to
                collect materials, design the enclosure, and assemble the structure. The
                whole process took place over a couple of weeks.</p>
            <img src="images/emu_intro.png" alt="Alt Text" style="float: right;" width="150">
            <p>Once the enclosure was finished, we redid the wiring for the Adafruit Metro M0 to the RGB matrix so that
                it was more secure. Next I began with re-programming Boids and using Notion AI to help me
                implement scene-switching logic for other games. I created a menu and
                cleaned up the code for future re-use. With the help of AI, I made an
                emulation of the display using SDL2 that I could use to debug logic
                before testing with hardware.</p>
            <p>Next I implemented a Calibration scene which allowed me to adjust the
                input signals and save them. From there I used the MCU's Flash memory
                and Adafruit's SPI flash library to save/load calibration settings.</p>
            <p>After, I focused on porting A-Maze-ing Race over the new framework. I
                reduced any globals and used best-practice patterns to implement the
                maze game. To ensure the game fit, I used memory efficient data-types
                such as bitsets for game parameters. I enabled high-scores to be
                saved/loaded from Flash memory. Finally I added two new games: Conway's Game of Life, and the classic
                Snake game.</p>
        </div>
        <div class="section">
            <h2 id="challenges">Challenges</h2>
            <p>The main challenge I encountered was learning when and how to use AI
                tools for coding C++. I learned that the tools were not accurate for
                certain kinds of issues and this trained me to be more skeptical in its
                results. The best use for it was learning new patterns and ways to
                implement code that other developers found effective. It was also
                helpful in implementing tedious code, e.g. the bit pattern for the GRID
                logo.</p>
            <p>
                Another challenge was implementing timing parity between the emulation
                and hardware. For instance, the Boids program ran slower (~16 FPS) on
                the hardware, so I had to develop timing classes for the emulation to
                run identically as hardware.</p>
        </div>
        <div class="section">
            <h2 id="acknowledgements">Acknowledgements</h2>
            <p>I'd like to thank my friend Herman Tabunganua for his help assembling the GRID enclosure.</p>
        </div>
        <div class="section">
            <h2 id="references">References</h2>
            <p>You can view the source code of the project <a href="./README.md">here</a>.</p>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js"
        integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y"
        crossorigin="anonymous"></script>
</body>

</html>